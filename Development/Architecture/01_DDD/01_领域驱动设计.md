领域驱动设计
====================

>过去系统分析和系统设计都是分离的，正如我们国家“系统分析师” 和“系统设计师” 两种职称考试一样，这样割裂的结果导致，需求分析的结果无法直接进行设计编程，而能够进行编程运行的代码却扭曲需求，导致客户运行软件后才发现很多功能不是自己想要的，而且软件不能快速跟随需求变化。
>DDD则打破了这种隔阂，提出了领域模型概念，统一了分析和设计编程，使得软件能够更灵活快速跟随需求变化。见下面DDD与传统CRUD或过程脚本或者面向数据表等在开发效率上比较：

![](/images/2017/08/DDD performance.png)
设计书就是讲设计，过程书讲的只是过程。它们之间很少相互参考。设计和过程本身就是两个足够复杂的主题。本书是一本设计书，但设计与过程这二者是密不可分的。设计思想必须被成功实现，否则它们就是纸上谈兵。

# 运用领域模型
3个基本用途决定了模型的选择：
1. 模型和设计的核心（实现）互相影响：模型中所有进行的分析是为了保证能够转化为最终产品。
2. 模型是团队所有成员使用的通用语言的中枢
3. 模型是浓缩的知识

软件的核心是为其用户解决领域相关的问题的能力，大部分有才能的开发人员对于他们的工作领域有关的知识不感兴趣，而是更愿意从事精细的框架工作。

## 消化知识
有效建模的要素
1. 模型和实现的绑定
2. 建立了一种基于模型的语言：双方能够使用模型术语进行沟通
3. 开发一个蕴含丰富知识的模型：模型并不仅仅是一种**数据模式**，它还是解决复杂问题不可或缺的部分。模型包含各种类型的知识。
4. 提炼模型
5. 头脑风暴

高效的领域建模人呀是知识的笑话这。他们在大量信息中探寻有用的部分。他们不断尝试各种信息组织方式，努力寻找对大量信息有意义的简单试图。很多模型再尝试后被放弃或改造，只有找到一组适用于所有细节的抽象概念后，工作才算成功。

高效率的团队需要有意识地积累知识，并持续学习。对于开发人员来说，这意味着纪要完善技术知识，也要培养一般的领域建模技巧。但这也包括认真学习他们正在从事的特定领域的知识。

有用的模型很少停留在表面。随着对领域和应用程序需求的理解逐步加深，我们往往会丢弃那些最初看起来很重要的表面元素，或者切换他们的角度。这是，一些开始时不可能发现的巧妙抽象就会渐渐浮出水面，而它们恰恰切中问题的要害。

## 交流与语言的使用
UBIQUITOUS LANGUAGE的词汇包括类和主要操作的名称。语言中的术语，有些用来讨论模型中已明确的规则，还有一些则来自于模型上的高级组织原则。最后，团队常常应用于领域模型的模式名称也使这种语言更丰富。

开发人员应该使用基于模型的语言来描述系统中的工件、任务和功能。这个模型应该为开发人员和领域专家提供一种用于相互交流的语言，而且领域专家还应该使用这种语言来讨论需求、开发计划和特性。语言使用得越普遍，理解进行得就越顺畅。领域专家应该抵制不合适或无法充分表达领域理解的术语或结构，开发人员应该密切关注那些将会妨碍设计的有歧义和不一致的地方。

UBIQUITOUS LANGUAGE的更改就是对模型的更改。

UML图无法传达模型的两个最终的方法，一个方面是模型所表示的概念的意义，另一方面是对兑现更应该做哪些事情。但是，这并不是大问题，因为通过仔细地使用语言就可以很好地完成这项任务。

务必要记住模型不是**图**，图的目的是帮助表达和解释模型。图是一种沟通和解释的手段，它们可以促进头脑风暴。简洁的小图能够很好地实现这些目标，而涵盖整个对象模型的综合性大图反而失去了沟通或解释能力，因为它们江都着淹没在大量细节之中，加之这些图也缺乏目的性。

**文档**应作为代码和口头交流的补充。文档不应再重复表示代码已经明确表达出的内容。代码已经含有各个细节，它本身就是一种精确的程序行为说明。其他文档因该着重说明含义，以便是人们能够深入理解大尺度结构，并将注意力集中在核心元素上。当编程语言无法直接明了地实现概念是，文档可以澄清设计意图。

**解释性**模型提供了一定的自由度，可以专门为某个特殊主题定制一些表达里更强的风格。解释性模型可以以一种不同的方式来呈现领域，并且各种不同角度的解释有助于人们更好地学习。

## 绑定模型和实现
软件系统各个部分的设计应该忠实地反映领域模型，以便体现出这二者之间的明确对应关系。我们应该反复检查并修改模型，以便软件可以更加自然地实现模型，即使想让模型反映出更深层次的领域概念时也应如此。我们需要的模型不但应该满足这两种需求，还应该能够支持健壮的UBIQUITOUS LANGUAGE。

完全依赖模型的实现通常需要支持建模范式的软件开发工具和语言，比如面向对象的编程，它可以在程序中直接创建模型中的对应概念。

HANDS-ON MODELER 任何参与建模的技术人员，不管在项目中的主要职责是什么，都必须花时间了解代码。任何负责修改代码的人员则必须学会用代码来表达模型。每一个开发人员都必须不同程度地参与模型讨论并且与领域专家保持联系。参与不同工作的人都必须有意识地通过UBIQUITOUS LANGUAGE来与接触代码的人及时交换关于模型的想法。

将建模和编程过程完全分离是行不通的，然而大型项目依然需要技术负责人来协调高层次的设计和建模，并帮助作出最困难或最关键的决策。

# 模型驱动设计的构造块



# 通过重构来加深理接



# 战略设计
